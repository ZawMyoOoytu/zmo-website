{"ast":null,"code":"import axios from 'axios';\n\n// ==========================================\n// üöÄ ENVIRONMENT CONFIGURATION - UPDATED FOR VERCEL\n// ==========================================\n// Use Vite environment variables for Vercel\nconst ENVIRONMENT = import.meta.env.VITE_APP_ENV || 'production';\nconst APP_VERSION = import.meta.env.VITE_APP_VERSION || '2.0.0';\nconst API_TIMEOUT = parseInt(import.meta.env.VITE_API_TIMEOUT) || 30000;\n\n// Use Vite env variable for Vercel deployment\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'https://zmo-backend.onrender.com/api';\nconsole.log('üöÄ ZMO Admin Panel API Config:', {\n  API_BASE_URL,\n  ENVIRONMENT,\n  APP_VERSION,\n  API_TIMEOUT\n});\n\n// ==========================================\n// üõ†Ô∏è AXIOS INSTANCE - OPTIMIZED FOR PRODUCTION\n// ==========================================\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: API_TIMEOUT,\n  headers: {\n    'Content-Type': 'application/json',\n    'X-Client': 'zmo-admin-panel',\n    'X-Client-Version': APP_VERSION\n  },\n  withCredentials: false\n});\n\n// ==========================================\n// üîÑ REQUEST INTERCEPTOR - IMPROVED LOGGING\n// ==========================================\napi.interceptors.request.use(config => {\n  const token = getToken();\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  // Only log in development to reduce noise in production\n  if (ENVIRONMENT === 'development') {\n    var _config$method;\n    console.log(`üöÄ API Request: ${(_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase()} ${config.url}`, {\n      hasToken: !!token\n    });\n  }\n  return config;\n}, error => {\n  console.error('‚ùå Request Interceptor Error:', error);\n  return Promise.reject(error);\n});\n\n// ==========================================\n// üì° RESPONSE INTERCEPTOR - ENHANCED ERROR HANDLING\n// ==========================================\napi.interceptors.response.use(response => {\n  // Log successful responses only in development\n  if (ENVIRONMENT === 'development') {\n    console.log(`‚úÖ API Response: ${response.status} ${response.config.url}`);\n  }\n  return response;\n}, error => {\n  handleApiError(error);\n  return Promise.reject(error);\n});\n\n// ==========================================\n// üõ°Ô∏è ENHANCED ERROR HANDLER\n// ==========================================\nconst handleApiError = error => {\n  var _error$response, _error$config, _error$config2, _error$message;\n  const status = (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status;\n  const url = (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url;\n  console.error('‚ùå API Error:', {\n    url,\n    status,\n    message: error.message,\n    method: (_error$config2 = error.config) === null || _error$config2 === void 0 ? void 0 : _error$config2.method\n  });\n  switch (status) {\n    case 401:\n      clearAuthData();\n      // Don't redirect if we're already on login page\n      if (!window.location.pathname.includes('/login')) {\n        setTimeout(() => {\n          window.location.href = `/login?session=expired&redirect=${encodeURIComponent(window.location.pathname)}`;\n        }, 1000);\n      }\n      break;\n    case 403:\n      showToast('Access denied. You do not have permission for this action.', 'error');\n      break;\n    case 404:\n      if (ENVIRONMENT === 'development') {\n        console.warn('üîç API endpoint not found:', url);\n      }\n      break;\n    case 429:\n      showToast('Too many requests. Please wait a moment and try again.', 'warning');\n      break;\n    case 500:\n      showToast('Server error. Please try again later.', 'error');\n      break;\n    case 502:\n    case 503:\n    case 504:\n      showToast('Backend service temporarily unavailable. Please try again in a moment.', 'error');\n      break;\n    default:\n      if (error.code === 'ECONNABORTED') {\n        showToast('Request timeout. Please check your connection and try again.', 'warning');\n      } else if ((_error$message = error.message) !== null && _error$message !== void 0 && _error$message.includes('CORS')) {\n        console.error('‚ùå CORS Error - Request blocked by security policy');\n        showToast('Connection blocked by security policy. Please try again.', 'error');\n      } else if (error.message === 'Network Error') {\n        console.error('‚ùå Network Error - Cannot connect to server');\n        showToast('Cannot connect to server. Please check if the backend is running.', 'error');\n      } else if (!error.response) {\n        // No response from server\n        showToast('Cannot reach the server. Please check your internet connection.', 'error');\n      }\n      break;\n  }\n};\n\n// ==========================================\n// üîê AUTH UTILITIES - IMPROVED\n// ==========================================\nconst getToken = () => {\n  return localStorage.getItem('adminToken') || sessionStorage.getItem('adminToken');\n};\nconst setToken = (token, rememberMe = false) => {\n  if (rememberMe) {\n    localStorage.setItem('adminToken', token);\n  } else {\n    sessionStorage.setItem('adminToken', token);\n  }\n};\nconst clearAuthData = () => {\n  localStorage.removeItem('adminToken');\n  localStorage.removeItem('adminUser');\n  sessionStorage.removeItem('adminToken');\n  sessionStorage.removeItem('adminUser');\n};\n\n// ==========================================\n// üõ†Ô∏è UTILS - SIMPLIFIED\n// ==========================================\nconst showToast = (message, type = 'info') => {\n  console.log(`üì¢ ${type.toUpperCase()}: ${message}`);\n\n  // Dispatch custom event for UI toasts (if your app has a toast system)\n  if (typeof window !== 'undefined') {\n    window.dispatchEvent(new CustomEvent('showToast', {\n      detail: {\n        message,\n        type,\n        duration: 5000\n      }\n    }));\n  }\n};\n\n// ==========================================\n// üîê AUTH API - ENHANCED\n// ==========================================\nexport const authAPI = {\n  login: async (email, password, rememberMe = false) => {\n    try {\n      console.log('üîê Attempting login to:', API_BASE_URL);\n      const response = await api.post('/auth/login', {\n        email: email.trim().toLowerCase(),\n        password: password.trim()\n      });\n      const {\n        success,\n        token,\n        user,\n        message\n      } = response.data;\n      if (success && token) {\n        setToken(token, rememberMe);\n        localStorage.setItem('adminUser', JSON.stringify(user));\n        console.log('‚úÖ Login successful:', {\n          user: user.email,\n          role: user.role\n        });\n        return {\n          success: true,\n          user,\n          token,\n          message\n        };\n      } else {\n        console.error('‚ùå Login failed:', message || 'Unknown error');\n        throw new Error(message || 'Login failed');\n      }\n    } catch (error) {\n      var _error$response2, _error$response3, _error$response4, _error$response4$data, _error$response5;\n      console.error('‚ùå Login API error:', {\n        message: error.message,\n        status: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status,\n        data: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data\n      });\n      let errorMessage = 'An error occurred during login. Please try again.';\n      if (error.message === 'Network Error') {\n        errorMessage = 'Cannot connect to the server. Please check if the backend is running.';\n      } else if (error.message.includes('CORS')) {\n        errorMessage = 'Connection blocked by security policy. Please try again.';\n      } else if ((_error$response4 = error.response) !== null && _error$response4 !== void 0 && (_error$response4$data = _error$response4.data) !== null && _error$response4$data !== void 0 && _error$response4$data.message) {\n        errorMessage = error.response.data.message;\n      } else if (((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.status) === 401) {\n        errorMessage = 'Invalid email or password.';\n      }\n      throw new Error(errorMessage);\n    }\n  },\n  logout: async () => {\n    try {\n      await api.post('/auth/logout');\n    } catch (error) {\n      // Silent fail - it's okay if backend logout fails\n      console.log('‚ÑπÔ∏è Backend logout failed (normal if offline):', error.message);\n    } finally {\n      clearAuthData();\n      return {\n        success: true,\n        message: 'Logout successful'\n      };\n    }\n  },\n  verify: async () => {\n    try {\n      const response = await api.get('/auth/verify');\n      if (response.data.success) {\n        return response.data;\n      } else {\n        throw new Error('Token verification failed');\n      }\n    } catch (error) {\n      clearAuthData();\n      throw new Error('Session expired. Please login again.');\n    }\n  },\n  getCurrentUser: () => {\n    try {\n      const user = localStorage.getItem('adminUser');\n      return user ? JSON.parse(user) : null;\n    } catch (error) {\n      console.error('Error parsing user data:', error);\n      return null;\n    }\n  },\n  isAuthenticated: () => {\n    const token = getToken();\n    const user = authAPI.getCurrentUser();\n    return !!(token && user);\n  }\n};\n\n// ==========================================\n// üìä DASHBOARD API - WITH BETTER ERROR HANDLING\n// ==========================================\nexport const dashboardAPI = {\n  getStats: async () => {\n    try {\n      const response = await api.get('/admin/dashboard/stats');\n      if (response.data.success) {\n        return response.data;\n      } else {\n        throw new Error(response.data.message || 'Failed to fetch dashboard stats');\n      }\n    } catch (error) {\n      console.error('‚ùå Dashboard stats error:', error);\n      throw new Error('Unable to load dashboard data. Please try again.');\n    }\n  }\n};\n\n// ==========================================\n// üìù BLOG API - SIMPLIFIED\n// ==========================================\nexport const blogAPI = {\n  getAll: async (params = {}) => {\n    try {\n      var _response$data$data, _response$data;\n      const response = await api.get('/admin/blogs', {\n        params\n      });\n      const blogs = response.data.success && (_response$data$data = response.data.data) !== null && _response$data$data !== void 0 && _response$data$data.blogs ? response.data.data.blogs : [];\n      return {\n        success: true,\n        blogs,\n        total: blogs.length,\n        pagination: (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.pagination\n      };\n    } catch (error) {\n      console.error('‚ùå Blog API error:', error);\n      return {\n        success: false,\n        blogs: [],\n        total: 0,\n        error: error.message\n      };\n    }\n  }\n};\n\n// ==========================================\n// üîó HEALTH CHECK - IMPROVED\n// ==========================================\nexport const healthAPI = {\n  check: async () => {\n    try {\n      console.log('üîó Testing backend connection...', API_BASE_URL);\n      const response = await api.get('/health');\n      console.log('‚úÖ Backend connection successful:', {\n        status: response.data.status,\n        environment: response.data.environment,\n        database: response.data.database\n      });\n      return {\n        success: true,\n        data: response.data,\n        message: 'Backend is healthy'\n      };\n    } catch (error) {\n      var _error$response6;\n      console.error('‚ùå Backend connection failed:', {\n        message: error.message,\n        code: error.code,\n        url: API_BASE_URL\n      });\n      let errorMessage = 'Cannot connect to backend server';\n      if (error.message === 'Network Error') {\n        errorMessage = 'Cannot connect to backend server. The server might be down or starting up.';\n      } else if (error.message.includes('CORS')) {\n        errorMessage = 'Connection blocked by CORS policy. Check backend configuration.';\n      } else if (((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.status) === 404) {\n        errorMessage = 'Backend health endpoint not found.';\n      }\n      return {\n        success: false,\n        error: error.message,\n        message: errorMessage\n      };\n    }\n  }\n};\n\n// Auto-test connection in development\nif (ENVIRONMENT === 'development') {\n  setTimeout(() => {\n    healthAPI.check().then(result => {\n      if (!result.success) {\n        console.warn('‚ö†Ô∏è Backend not available in development');\n      }\n    });\n  }, 2000);\n}\n\n// Export utilities\nexport { clearAuthData, getToken };\nexport default api;","map":{"version":3,"names":["axios","ENVIRONMENT","import","meta","env","VITE_APP_ENV","APP_VERSION","VITE_APP_VERSION","API_TIMEOUT","parseInt","VITE_API_TIMEOUT","API_BASE_URL","VITE_API_BASE_URL","console","log","api","create","baseURL","timeout","headers","withCredentials","interceptors","request","use","config","token","getToken","Authorization","_config$method","method","toUpperCase","url","hasToken","error","Promise","reject","response","status","handleApiError","_error$response","_error$config","_error$config2","_error$message","message","clearAuthData","window","location","pathname","includes","setTimeout","href","encodeURIComponent","showToast","warn","code","localStorage","getItem","sessionStorage","setToken","rememberMe","setItem","removeItem","type","dispatchEvent","CustomEvent","detail","duration","authAPI","login","email","password","post","trim","toLowerCase","success","user","data","JSON","stringify","role","Error","_error$response2","_error$response3","_error$response4","_error$response4$data","_error$response5","errorMessage","logout","verify","get","getCurrentUser","parse","isAuthenticated","dashboardAPI","getStats","blogAPI","getAll","params","_response$data$data","_response$data","blogs","total","length","pagination","healthAPI","check","environment","database","_error$response6","then","result"],"sources":["C:/Users/heart/zmowebsite/admin-panel/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// ==========================================\r\n// üöÄ ENVIRONMENT CONFIGURATION - UPDATED FOR VERCEL\r\n// ==========================================\r\n// Use Vite environment variables for Vercel\r\nconst ENVIRONMENT = import.meta.env.VITE_APP_ENV || 'production';\r\nconst APP_VERSION = import.meta.env.VITE_APP_VERSION || '2.0.0';\r\nconst API_TIMEOUT = parseInt(import.meta.env.VITE_API_TIMEOUT) || 30000;\r\n\r\n// Use Vite env variable for Vercel deployment\r\nconst API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'https://zmo-backend.onrender.com/api';\r\n\r\nconsole.log('üöÄ ZMO Admin Panel API Config:', { \r\n  API_BASE_URL, \r\n  ENVIRONMENT, \r\n  APP_VERSION, \r\n  API_TIMEOUT \r\n});\r\n\r\n// ==========================================\r\n// üõ†Ô∏è AXIOS INSTANCE - OPTIMIZED FOR PRODUCTION\r\n// ==========================================\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: API_TIMEOUT,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'X-Client': 'zmo-admin-panel',\r\n    'X-Client-Version': APP_VERSION,\r\n  },\r\n  withCredentials: false,\r\n});\r\n\r\n// ==========================================\r\n// üîÑ REQUEST INTERCEPTOR - IMPROVED LOGGING\r\n// ==========================================\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = getToken();\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    \r\n    // Only log in development to reduce noise in production\r\n    if (ENVIRONMENT === 'development') {\r\n      console.log(`üöÄ API Request: ${config.method?.toUpperCase()} ${config.url}`, { \r\n        hasToken: !!token \r\n      });\r\n    }\r\n    \r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('‚ùå Request Interceptor Error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// ==========================================\r\n// üì° RESPONSE INTERCEPTOR - ENHANCED ERROR HANDLING\r\n// ==========================================\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    // Log successful responses only in development\r\n    if (ENVIRONMENT === 'development') {\r\n      console.log(`‚úÖ API Response: ${response.status} ${response.config.url}`);\r\n    }\r\n    return response;\r\n  },\r\n  (error) => {\r\n    handleApiError(error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// ==========================================\r\n// üõ°Ô∏è ENHANCED ERROR HANDLER\r\n// ==========================================\r\nconst handleApiError = (error) => {\r\n  const status = error.response?.status;\r\n  const url = error.config?.url;\r\n\r\n  console.error('‚ùå API Error:', {\r\n    url,\r\n    status,\r\n    message: error.message,\r\n    method: error.config?.method\r\n  });\r\n\r\n  switch (status) {\r\n    case 401:\r\n      clearAuthData();\r\n      // Don't redirect if we're already on login page\r\n      if (!window.location.pathname.includes('/login')) {\r\n        setTimeout(() => {\r\n          window.location.href = `/login?session=expired&redirect=${encodeURIComponent(window.location.pathname)}`;\r\n        }, 1000);\r\n      }\r\n      break;\r\n    case 403:\r\n      showToast('Access denied. You do not have permission for this action.', 'error');\r\n      break;\r\n    case 404:\r\n      if (ENVIRONMENT === 'development') {\r\n        console.warn('üîç API endpoint not found:', url);\r\n      }\r\n      break;\r\n    case 429:\r\n      showToast('Too many requests. Please wait a moment and try again.', 'warning');\r\n      break;\r\n    case 500:\r\n      showToast('Server error. Please try again later.', 'error');\r\n      break;\r\n    case 502:\r\n    case 503:\r\n    case 504:\r\n      showToast('Backend service temporarily unavailable. Please try again in a moment.', 'error');\r\n      break;\r\n    default:\r\n      if (error.code === 'ECONNABORTED') {\r\n        showToast('Request timeout. Please check your connection and try again.', 'warning');\r\n      } else if (error.message?.includes('CORS')) {\r\n        console.error('‚ùå CORS Error - Request blocked by security policy');\r\n        showToast('Connection blocked by security policy. Please try again.', 'error');\r\n      } else if (error.message === 'Network Error') {\r\n        console.error('‚ùå Network Error - Cannot connect to server');\r\n        showToast('Cannot connect to server. Please check if the backend is running.', 'error');\r\n      } else if (!error.response) {\r\n        // No response from server\r\n        showToast('Cannot reach the server. Please check your internet connection.', 'error');\r\n      }\r\n      break;\r\n  }\r\n};\r\n\r\n// ==========================================\r\n// üîê AUTH UTILITIES - IMPROVED\r\n// ==========================================\r\nconst getToken = () => {\r\n  return localStorage.getItem('adminToken') || sessionStorage.getItem('adminToken');\r\n};\r\n\r\nconst setToken = (token, rememberMe = false) => {\r\n  if (rememberMe) {\r\n    localStorage.setItem('adminToken', token);\r\n  } else {\r\n    sessionStorage.setItem('adminToken', token);\r\n  }\r\n};\r\n\r\nconst clearAuthData = () => {\r\n  localStorage.removeItem('adminToken');\r\n  localStorage.removeItem('adminUser');\r\n  sessionStorage.removeItem('adminToken');\r\n  sessionStorage.removeItem('adminUser');\r\n};\r\n\r\n// ==========================================\r\n// üõ†Ô∏è UTILS - SIMPLIFIED\r\n// ==========================================\r\nconst showToast = (message, type = 'info') => {\r\n  console.log(`üì¢ ${type.toUpperCase()}: ${message}`);\r\n  \r\n  // Dispatch custom event for UI toasts (if your app has a toast system)\r\n  if (typeof window !== 'undefined') {\r\n    window.dispatchEvent(new CustomEvent('showToast', { \r\n      detail: { \r\n        message, \r\n        type, \r\n        duration: 5000 \r\n      } \r\n    }));\r\n  }\r\n};\r\n\r\n// ==========================================\r\n// üîê AUTH API - ENHANCED\r\n// ==========================================\r\nexport const authAPI = {\r\n  login: async (email, password, rememberMe = false) => {\r\n    try {\r\n      console.log('üîê Attempting login to:', API_BASE_URL);\r\n      \r\n      const response = await api.post('/auth/login', {\r\n        email: email.trim().toLowerCase(),\r\n        password: password.trim(),\r\n      });\r\n\r\n      const { success, token, user, message } = response.data;\r\n\r\n      if (success && token) {\r\n        setToken(token, rememberMe);\r\n        localStorage.setItem('adminUser', JSON.stringify(user));\r\n        \r\n        console.log('‚úÖ Login successful:', { \r\n          user: user.email, \r\n          role: user.role \r\n        });\r\n        \r\n        return { \r\n          success: true, \r\n          user, \r\n          token, \r\n          message \r\n        };\r\n      } else {\r\n        console.error('‚ùå Login failed:', message || 'Unknown error');\r\n        throw new Error(message || 'Login failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Login API error:', {\r\n        message: error.message,\r\n        status: error.response?.status,\r\n        data: error.response?.data\r\n      });\r\n      \r\n      let errorMessage = 'An error occurred during login. Please try again.';\r\n      \r\n      if (error.message === 'Network Error') {\r\n        errorMessage = 'Cannot connect to the server. Please check if the backend is running.';\r\n      } else if (error.message.includes('CORS')) {\r\n        errorMessage = 'Connection blocked by security policy. Please try again.';\r\n      } else if (error.response?.data?.message) {\r\n        errorMessage = error.response.data.message;\r\n      } else if (error.response?.status === 401) {\r\n        errorMessage = 'Invalid email or password.';\r\n      }\r\n      \r\n      throw new Error(errorMessage);\r\n    }\r\n  },\r\n  \r\n  logout: async () => {\r\n    try {\r\n      await api.post('/auth/logout');\r\n    } catch (error) {\r\n      // Silent fail - it's okay if backend logout fails\r\n      console.log('‚ÑπÔ∏è Backend logout failed (normal if offline):', error.message);\r\n    } finally {\r\n      clearAuthData();\r\n      return { \r\n        success: true, \r\n        message: 'Logout successful' \r\n      };\r\n    }\r\n  },\r\n  \r\n  verify: async () => {\r\n    try {\r\n      const response = await api.get('/auth/verify');\r\n      if (response.data.success) {\r\n        return response.data;\r\n      } else {\r\n        throw new Error('Token verification failed');\r\n      }\r\n    } catch (error) {\r\n      clearAuthData();\r\n      throw new Error('Session expired. Please login again.');\r\n    }\r\n  },\r\n  \r\n  getCurrentUser: () => {\r\n    try {\r\n      const user = localStorage.getItem('adminUser');\r\n      return user ? JSON.parse(user) : null;\r\n    } catch (error) {\r\n      console.error('Error parsing user data:', error);\r\n      return null;\r\n    }\r\n  },\r\n  \r\n  isAuthenticated: () => {\r\n    const token = getToken();\r\n    const user = authAPI.getCurrentUser();\r\n    return !!(token && user);\r\n  },\r\n};\r\n\r\n// ==========================================\r\n// üìä DASHBOARD API - WITH BETTER ERROR HANDLING\r\n// ==========================================\r\nexport const dashboardAPI = {\r\n  getStats: async () => {\r\n    try {\r\n      const response = await api.get('/admin/dashboard/stats');\r\n      if (response.data.success) {\r\n        return response.data;\r\n      } else {\r\n        throw new Error(response.data.message || 'Failed to fetch dashboard stats');\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå Dashboard stats error:', error);\r\n      throw new Error('Unable to load dashboard data. Please try again.');\r\n    }\r\n  },\r\n};\r\n\r\n// ==========================================\r\n// üìù BLOG API - SIMPLIFIED\r\n// ==========================================\r\nexport const blogAPI = {\r\n  getAll: async (params = {}) => {\r\n    try {\r\n      const response = await api.get('/admin/blogs', { params });\r\n      const blogs = response.data.success && response.data.data?.blogs \r\n        ? response.data.data.blogs \r\n        : [];\r\n      \r\n      return { \r\n        success: true, \r\n        blogs, \r\n        total: blogs.length, \r\n        pagination: response.data?.pagination \r\n      };\r\n    } catch (error) {\r\n      console.error('‚ùå Blog API error:', error);\r\n      return { \r\n        success: false, \r\n        blogs: [], \r\n        total: 0,\r\n        error: error.message \r\n      };\r\n    }\r\n  },\r\n};\r\n\r\n// ==========================================\r\n// üîó HEALTH CHECK - IMPROVED\r\n// ==========================================\r\nexport const healthAPI = {\r\n  check: async () => {\r\n    try {\r\n      console.log('üîó Testing backend connection...', API_BASE_URL);\r\n      const response = await api.get('/health');\r\n      \r\n      console.log('‚úÖ Backend connection successful:', {\r\n        status: response.data.status,\r\n        environment: response.data.environment,\r\n        database: response.data.database\r\n      });\r\n      \r\n      return { \r\n        success: true, \r\n        data: response.data, \r\n        message: 'Backend is healthy' \r\n      };\r\n    } catch (error) {\r\n      console.error('‚ùå Backend connection failed:', {\r\n        message: error.message,\r\n        code: error.code,\r\n        url: API_BASE_URL\r\n      });\r\n      \r\n      let errorMessage = 'Cannot connect to backend server';\r\n      \r\n      if (error.message === 'Network Error') {\r\n        errorMessage = 'Cannot connect to backend server. The server might be down or starting up.';\r\n      } else if (error.message.includes('CORS')) {\r\n        errorMessage = 'Connection blocked by CORS policy. Check backend configuration.';\r\n      } else if (error.response?.status === 404) {\r\n        errorMessage = 'Backend health endpoint not found.';\r\n      }\r\n      \r\n      return { \r\n        success: false, \r\n        error: error.message, \r\n        message: errorMessage \r\n      };\r\n    }\r\n  }\r\n};\r\n\r\n// Auto-test connection in development\r\nif (ENVIRONMENT === 'development') {\r\n  setTimeout(() => {\r\n    healthAPI.check().then(result => {\r\n      if (!result.success) {\r\n        console.warn('‚ö†Ô∏è Backend not available in development');\r\n      }\r\n    });\r\n  }, 2000);\r\n}\r\n\r\n// Export utilities\r\nexport { clearAuthData, getToken };\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}