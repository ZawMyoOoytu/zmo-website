{"ast":null,"code":"// admin-panel/src/services/api.js - UPDATED WITH ERROR HANDLING\nimport axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'https://zmo-backend.vercel.app/api';\nconsole.log('ðŸ”§ API Base URL:', API_BASE_URL);\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  timeout: 15000\n});\n\n// Add auth token to requests\napi.interceptors.request.use(config => {\n  var _config$method;\n  const token = localStorage.getItem('adminToken');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  console.log(`ðŸš€ ${(_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase()} to: ${config.url}`);\n  return config;\n});\n\n// Handle responses globally\napi.interceptors.response.use(response => {\n  console.log(`âœ… ${response.status} from: ${response.config.url}`, response.data);\n  return response;\n}, error => {\n  var _error$config, _error$response, _error$response2, _error$response2$data, _error$response3;\n  console.error(`âŒ API Error:`, {\n    url: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url,\n    status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n    message: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || error.message\n  });\n  if (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 401) {\n    localStorage.removeItem('adminToken');\n    localStorage.removeItem('adminUser');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\n\n// --- Authentication API ---\nexport const authAPI = {\n  login: async (email, password) => {\n    try {\n      console.log('ðŸ” Attempting login...');\n      const res = await api.post('/auth/login', {\n        email,\n        password\n      });\n      return res.data;\n    } catch (error) {\n      var _error$response4;\n      console.error('âŒ Login failed:', error);\n      // Mock login for development\n      if (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status) === 404) {\n        console.warn('âš ï¸ Login endpoint not found, using mock login');\n        const mockUser = {\n          id: '1',\n          email,\n          name: 'Admin',\n          role: 'admin'\n        };\n        const mockToken = 'mock-token-' + Date.now();\n        localStorage.setItem('adminToken', mockToken);\n        localStorage.setItem('adminUser', JSON.stringify(mockUser));\n        return {\n          user: mockUser,\n          token: mockToken,\n          message: 'Mock login successful'\n        };\n      }\n      throw error;\n    }\n  },\n  logout: async () => {\n    localStorage.removeItem('adminToken');\n    localStorage.removeItem('adminUser');\n    return {\n      message: 'Logout successful'\n    };\n  },\n  verify: async () => {\n    try {\n      const res = await api.get('/auth/verify');\n      return res.data;\n    } catch (error) {\n      console.error('âŒ Token verification failed:', error);\n      // Mock verification for development\n      const user = localStorage.getItem('adminUser');\n      const token = localStorage.getItem('adminToken');\n      if (user && token) {\n        return {\n          user: JSON.parse(user),\n          valid: true,\n          message: 'Mock verification'\n        };\n      }\n      throw error;\n    }\n  }\n};\n\n// --- Blog API --- WITH FALLBACK TO LOCALSTORAGE\nexport const blogAPI = {\n  getAll: async (page = 1, limit = 50) => {\n    try {\n      console.log('ðŸ“¡ Fetching blogs from backend...');\n      const res = await api.get('/admin/blogs');\n\n      // Handle response structure\n      const responseData = res.data;\n      if (responseData && Array.isArray(responseData.blogs)) {\n        return responseData.blogs;\n      }\n      if (responseData && Array.isArray(responseData.data)) {\n        return responseData.data;\n      }\n      if (Array.isArray(responseData)) {\n        return responseData;\n      }\n      console.warn('âš ï¸ Unexpected blog response format:', responseData);\n      return [];\n    } catch (error) {\n      console.error('âŒ Backend failed, using localStorage fallback:', error);\n\n      // Fallback to localStorage\n      try {\n        const storedBlogs = localStorage.getItem('zmo-blogs');\n        const blogs = storedBlogs ? JSON.parse(storedBlogs) : [];\n        console.log('ðŸ“š Using localStorage blogs:', blogs.length);\n        return blogs;\n      } catch (fallbackError) {\n        console.error('âŒ localStorage fallback failed:', fallbackError);\n        return [];\n      }\n    }\n  },\n  create: async data => {\n    try {\n      console.log('ðŸ“ Creating blog via backend...', data);\n      const res = await api.post('/admin/blogs', data);\n      console.log('âœ… Blog created via backend:', res.data);\n      return res.data;\n    } catch (error) {\n      console.error('âŒ Backend create failed, using localStorage:', error);\n\n      // Fallback to localStorage\n      try {\n        var _data$content;\n        const storedBlogs = localStorage.getItem('zmo-blogs');\n        const blogs = storedBlogs ? JSON.parse(storedBlogs) : [];\n        const newBlog = {\n          _id: Date.now().toString(),\n          title: data.title,\n          content: data.content,\n          excerpt: ((_data$content = data.content) === null || _data$content === void 0 ? void 0 : _data$content.substring(0, 150)) + '...' || 'No excerpt',\n          image: data.imageUrl || '',\n          imageUrl: data.imageUrl || '',\n          published: true,\n          tags: data.tags || ['general'],\n          author: 'Admin',\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString(),\n          status: 'published'\n        };\n        blogs.unshift(newBlog);\n        localStorage.setItem('zmo-blogs', JSON.stringify(blogs));\n        console.log('âœ… Blog created in localStorage:', newBlog);\n\n        // Show success message\n        setTimeout(() => {\n          alert('âœ… Blog created successfully! (Using localStorage fallback)');\n        }, 100);\n        return newBlog;\n      } catch (fallbackError) {\n        console.error('âŒ localStorage create failed:', fallbackError);\n        throw new Error('Failed to create blog: ' + fallbackError.message);\n      }\n    }\n  },\n  update: async (id, data) => {\n    try {\n      console.log('ðŸ“ Updating blog via backend...', id, data);\n      const res = await api.put(`/admin/blogs/${id}`, data);\n      return res.data;\n    } catch (error) {\n      console.error('âŒ Backend update failed, using localStorage:', error);\n\n      // Fallback to localStorage\n      try {\n        const storedBlogs = localStorage.getItem('zmo-blogs');\n        const blogs = storedBlogs ? JSON.parse(storedBlogs) : [];\n        const index = blogs.findIndex(blog => blog._id === id);\n        if (index === -1) throw new Error('Blog not found');\n        blogs[index] = {\n          ...blogs[index],\n          ...data,\n          updatedAt: new Date().toISOString()\n        };\n        localStorage.setItem('zmo-blogs', JSON.stringify(blogs));\n        setTimeout(() => {\n          alert('âœ… Blog updated successfully! (Using localStorage fallback)');\n        }, 100);\n        return blogs[index];\n      } catch (fallbackError) {\n        console.error('âŒ localStorage update failed:', fallbackError);\n        throw fallbackError;\n      }\n    }\n  },\n  delete: async id => {\n    try {\n      console.log('ðŸ—‘ï¸ Deleting blog via backend...', id);\n      const res = await api.delete(`/admin/blogs/${id}`);\n      return res.data;\n    } catch (error) {\n      console.error('âŒ Backend delete failed, using localStorage:', error);\n\n      // Fallback to localStorage\n      try {\n        const storedBlogs = localStorage.getItem('zmo-blogs');\n        const blogs = storedBlogs ? JSON.parse(storedBlogs) : [];\n        const filteredBlogs = blogs.filter(blog => blog._id !== id);\n        if (blogs.length === filteredBlogs.length) {\n          throw new Error('Blog not found');\n        }\n        localStorage.setItem('zmo-blogs', JSON.stringify(filteredBlogs));\n        setTimeout(() => {\n          alert('âœ… Blog deleted successfully! (Using localStorage fallback)');\n        }, 100);\n        return {\n          success: true,\n          message: 'Blog deleted from localStorage'\n        };\n      } catch (fallbackError) {\n        console.error('âŒ localStorage delete failed:', fallbackError);\n        throw fallbackError;\n      }\n    }\n  },\n  getById: async id => {\n    try {\n      const res = await api.get(`/admin/blogs/${id}`);\n      return res.data;\n    } catch (error) {\n      console.error('âŒ Backend getById failed:', error);\n\n      // Fallback to localStorage\n      const storedBlogs = localStorage.getItem('zmo-blogs');\n      const blogs = storedBlogs ? JSON.parse(storedBlogs) : [];\n      const blog = blogs.find(b => b._id === id);\n      if (!blog) throw new Error('Blog not found');\n      return blog;\n    }\n  }\n};\n\n// --- Dashboard API ---\nexport const dashboardAPI = {\n  getStats: async () => {\n    try {\n      const res = await api.get('/admin/dashboard/stats');\n      return res.data;\n    } catch (error) {\n      console.error('âŒ Stats endpoint failed, using mock data:', error);\n      return {\n        stats: {\n          totalBlogs: 0,\n          publishedBlogs: 0,\n          draftBlogs: 0,\n          totalProjects: 0,\n          totalContacts: 0,\n          totalUsers: 0,\n          monthlyGrowth: 0,\n          activeUsers: 0\n        }\n      };\n    }\n  },\n  getRecentActivity: async () => {\n    try {\n      const res = await api.get('/admin/dashboard/recent');\n      return res.data;\n    } catch (error) {\n      console.error('âŒ Recent activity endpoint failed:', error);\n      return {\n        activities: []\n      };\n    }\n  }\n};\n\n// --- Other APIs (Placeholders) ---\nexport const projectAPI = {\n  getAll: async () => ({\n    projects: []\n  }),\n  create: async data => data,\n  update: async (id, data) => data,\n  delete: async id => ({\n    success: true\n  })\n};\nexport const contactAPI = {\n  getAll: async () => ({\n    contacts: []\n  }),\n  getById: async id => ({}),\n  updateStatus: async (id, status) => ({\n    success: true\n  }),\n  delete: async id => ({\n    success: true\n  })\n};\nexport const uploadAPI = {\n  uploadImage: async file => ({\n    url: `https://picsum.photos/800/600?random=${Date.now()}`,\n    message: 'Mock upload successful'\n  })\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","console","log","api","create","baseURL","headers","timeout","interceptors","request","use","config","_config$method","token","localStorage","getItem","Authorization","method","toUpperCase","url","response","status","data","error","_error$config","_error$response","_error$response2","_error$response2$data","_error$response3","message","removeItem","window","location","href","Promise","reject","authAPI","login","email","password","res","post","_error$response4","warn","mockUser","id","name","role","mockToken","Date","now","setItem","JSON","stringify","user","logout","verify","get","parse","valid","blogAPI","getAll","page","limit","responseData","Array","isArray","blogs","storedBlogs","length","fallbackError","_data$content","newBlog","_id","toString","title","content","excerpt","substring","image","imageUrl","published","tags","author","createdAt","toISOString","updatedAt","unshift","setTimeout","alert","Error","update","put","index","findIndex","blog","delete","filteredBlogs","filter","success","getById","find","b","dashboardAPI","getStats","stats","totalBlogs","publishedBlogs","draftBlogs","totalProjects","totalContacts","totalUsers","monthlyGrowth","activeUsers","getRecentActivity","activities","projectAPI","projects","contactAPI","contacts","updateStatus","uploadAPI","uploadImage","file"],"sources":["C:/Users/heart/zmowebsite/admin-panel/src/services/api.js"],"sourcesContent":["// admin-panel/src/services/api.js - UPDATED WITH ERROR HANDLING\r\nimport axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'https://zmo-backend.vercel.app/api';\r\nconsole.log('ðŸ”§ API Base URL:', API_BASE_URL);\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: { 'Content-Type': 'application/json' },\r\n  timeout: 15000,\r\n});\r\n\r\n// Add auth token to requests\r\napi.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem('adminToken');\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  console.log(`ðŸš€ ${config.method?.toUpperCase()} to: ${config.url}`);\r\n  return config;\r\n});\r\n\r\n// Handle responses globally\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    console.log(`âœ… ${response.status} from: ${response.config.url}`, response.data);\r\n    return response;\r\n  },\r\n  (error) => {\r\n    console.error(`âŒ API Error:`, {\r\n      url: error.config?.url,\r\n      status: error.response?.status,\r\n      message: error.response?.data?.message || error.message\r\n    });\r\n    \r\n    if (error.response?.status === 401) {\r\n      localStorage.removeItem('adminToken');\r\n      localStorage.removeItem('adminUser');\r\n      window.location.href = '/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// --- Authentication API ---\r\nexport const authAPI = {\r\n  login: async (email, password) => {\r\n    try {\r\n      console.log('ðŸ” Attempting login...');\r\n      const res = await api.post('/auth/login', { email, password });\r\n      return res.data;\r\n    } catch (error) {\r\n      console.error('âŒ Login failed:', error);\r\n      // Mock login for development\r\n      if (error.response?.status === 404) {\r\n        console.warn('âš ï¸ Login endpoint not found, using mock login');\r\n        const mockUser = {\r\n          id: '1', email, name: 'Admin', role: 'admin'\r\n        };\r\n        const mockToken = 'mock-token-' + Date.now();\r\n        localStorage.setItem('adminToken', mockToken);\r\n        localStorage.setItem('adminUser', JSON.stringify(mockUser));\r\n        return { user: mockUser, token: mockToken, message: 'Mock login successful' };\r\n      }\r\n      throw error;\r\n    }\r\n  },\r\n  \r\n  logout: async () => {\r\n    localStorage.removeItem('adminToken');\r\n    localStorage.removeItem('adminUser');\r\n    return { message: 'Logout successful' };\r\n  },\r\n  \r\n  verify: async () => {\r\n    try {\r\n      const res = await api.get('/auth/verify');\r\n      return res.data;\r\n    } catch (error) {\r\n      console.error('âŒ Token verification failed:', error);\r\n      // Mock verification for development\r\n      const user = localStorage.getItem('adminUser');\r\n      const token = localStorage.getItem('adminToken');\r\n      if (user && token) {\r\n        return { user: JSON.parse(user), valid: true, message: 'Mock verification' };\r\n      }\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\n// --- Blog API --- WITH FALLBACK TO LOCALSTORAGE\r\nexport const blogAPI = {\r\n  getAll: async (page = 1, limit = 50) => {\r\n    try {\r\n      console.log('ðŸ“¡ Fetching blogs from backend...');\r\n      const res = await api.get('/admin/blogs');\r\n      \r\n      // Handle response structure\r\n      const responseData = res.data;\r\n      if (responseData && Array.isArray(responseData.blogs)) {\r\n        return responseData.blogs;\r\n      }\r\n      if (responseData && Array.isArray(responseData.data)) {\r\n        return responseData.data;\r\n      }\r\n      if (Array.isArray(responseData)) {\r\n        return responseData;\r\n      }\r\n      \r\n      console.warn('âš ï¸ Unexpected blog response format:', responseData);\r\n      return [];\r\n      \r\n    } catch (error) {\r\n      console.error('âŒ Backend failed, using localStorage fallback:', error);\r\n      \r\n      // Fallback to localStorage\r\n      try {\r\n        const storedBlogs = localStorage.getItem('zmo-blogs');\r\n        const blogs = storedBlogs ? JSON.parse(storedBlogs) : [];\r\n        console.log('ðŸ“š Using localStorage blogs:', blogs.length);\r\n        return blogs;\r\n      } catch (fallbackError) {\r\n        console.error('âŒ localStorage fallback failed:', fallbackError);\r\n        return [];\r\n      }\r\n    }\r\n  },\r\n  \r\n  create: async (data) => {\r\n    try {\r\n      console.log('ðŸ“ Creating blog via backend...', data);\r\n      const res = await api.post('/admin/blogs', data);\r\n      console.log('âœ… Blog created via backend:', res.data);\r\n      return res.data;\r\n      \r\n    } catch (error) {\r\n      console.error('âŒ Backend create failed, using localStorage:', error);\r\n      \r\n      // Fallback to localStorage\r\n      try {\r\n        const storedBlogs = localStorage.getItem('zmo-blogs');\r\n        const blogs = storedBlogs ? JSON.parse(storedBlogs) : [];\r\n        \r\n        const newBlog = {\r\n          _id: Date.now().toString(),\r\n          title: data.title,\r\n          content: data.content,\r\n          excerpt: data.content?.substring(0, 150) + '...' || 'No excerpt',\r\n          image: data.imageUrl || '',\r\n          imageUrl: data.imageUrl || '',\r\n          published: true,\r\n          tags: data.tags || ['general'],\r\n          author: 'Admin',\r\n          createdAt: new Date().toISOString(),\r\n          updatedAt: new Date().toISOString(),\r\n          status: 'published'\r\n        };\r\n        \r\n        blogs.unshift(newBlog);\r\n        localStorage.setItem('zmo-blogs', JSON.stringify(blogs));\r\n        \r\n        console.log('âœ… Blog created in localStorage:', newBlog);\r\n        \r\n        // Show success message\r\n        setTimeout(() => {\r\n          alert('âœ… Blog created successfully! (Using localStorage fallback)');\r\n        }, 100);\r\n        \r\n        return newBlog;\r\n        \r\n      } catch (fallbackError) {\r\n        console.error('âŒ localStorage create failed:', fallbackError);\r\n        throw new Error('Failed to create blog: ' + fallbackError.message);\r\n      }\r\n    }\r\n  },\r\n  \r\n  update: async (id, data) => {\r\n    try {\r\n      console.log('ðŸ“ Updating blog via backend...', id, data);\r\n      const res = await api.put(`/admin/blogs/${id}`, data);\r\n      return res.data;\r\n      \r\n    } catch (error) {\r\n      console.error('âŒ Backend update failed, using localStorage:', error);\r\n      \r\n      // Fallback to localStorage\r\n      try {\r\n        const storedBlogs = localStorage.getItem('zmo-blogs');\r\n        const blogs = storedBlogs ? JSON.parse(storedBlogs) : [];\r\n        const index = blogs.findIndex(blog => blog._id === id);\r\n        \r\n        if (index === -1) throw new Error('Blog not found');\r\n        \r\n        blogs[index] = {\r\n          ...blogs[index],\r\n          ...data,\r\n          updatedAt: new Date().toISOString()\r\n        };\r\n        \r\n        localStorage.setItem('zmo-blogs', JSON.stringify(blogs));\r\n        \r\n        setTimeout(() => {\r\n          alert('âœ… Blog updated successfully! (Using localStorage fallback)');\r\n        }, 100);\r\n        \r\n        return blogs[index];\r\n        \r\n      } catch (fallbackError) {\r\n        console.error('âŒ localStorage update failed:', fallbackError);\r\n        throw fallbackError;\r\n      }\r\n    }\r\n  },\r\n  \r\n  delete: async (id) => {\r\n    try {\r\n      console.log('ðŸ—‘ï¸ Deleting blog via backend...', id);\r\n      const res = await api.delete(`/admin/blogs/${id}`);\r\n      return res.data;\r\n      \r\n    } catch (error) {\r\n      console.error('âŒ Backend delete failed, using localStorage:', error);\r\n      \r\n      // Fallback to localStorage\r\n      try {\r\n        const storedBlogs = localStorage.getItem('zmo-blogs');\r\n        const blogs = storedBlogs ? JSON.parse(storedBlogs) : [];\r\n        const filteredBlogs = blogs.filter(blog => blog._id !== id);\r\n        \r\n        if (blogs.length === filteredBlogs.length) {\r\n          throw new Error('Blog not found');\r\n        }\r\n        \r\n        localStorage.setItem('zmo-blogs', JSON.stringify(filteredBlogs));\r\n        \r\n        setTimeout(() => {\r\n          alert('âœ… Blog deleted successfully! (Using localStorage fallback)');\r\n        }, 100);\r\n        \r\n        return { success: true, message: 'Blog deleted from localStorage' };\r\n        \r\n      } catch (fallbackError) {\r\n        console.error('âŒ localStorage delete failed:', fallbackError);\r\n        throw fallbackError;\r\n      }\r\n    }\r\n  },\r\n  \r\n  getById: async (id) => {\r\n    try {\r\n      const res = await api.get(`/admin/blogs/${id}`);\r\n      return res.data;\r\n    } catch (error) {\r\n      console.error('âŒ Backend getById failed:', error);\r\n      \r\n      // Fallback to localStorage\r\n      const storedBlogs = localStorage.getItem('zmo-blogs');\r\n      const blogs = storedBlogs ? JSON.parse(storedBlogs) : [];\r\n      const blog = blogs.find(b => b._id === id);\r\n      \r\n      if (!blog) throw new Error('Blog not found');\r\n      return blog;\r\n    }\r\n  },\r\n};\r\n\r\n// --- Dashboard API ---\r\nexport const dashboardAPI = {\r\n  getStats: async () => {\r\n    try {\r\n      const res = await api.get('/admin/dashboard/stats');\r\n      return res.data;\r\n    } catch (error) {\r\n      console.error('âŒ Stats endpoint failed, using mock data:', error);\r\n      return {\r\n        stats: {\r\n          totalBlogs: 0,\r\n          publishedBlogs: 0,\r\n          draftBlogs: 0,\r\n          totalProjects: 0,\r\n          totalContacts: 0,\r\n          totalUsers: 0,\r\n          monthlyGrowth: 0,\r\n          activeUsers: 0\r\n        }\r\n      };\r\n    }\r\n  },\r\n  \r\n  getRecentActivity: async () => {\r\n    try {\r\n      const res = await api.get('/admin/dashboard/recent');\r\n      return res.data;\r\n    } catch (error) {\r\n      console.error('âŒ Recent activity endpoint failed:', error);\r\n      return { activities: [] };\r\n    }\r\n  },\r\n};\r\n\r\n// --- Other APIs (Placeholders) ---\r\nexport const projectAPI = {\r\n  getAll: async () => ({ projects: [] }),\r\n  create: async (data) => data,\r\n  update: async (id, data) => data,\r\n  delete: async (id) => ({ success: true })\r\n};\r\n\r\nexport const contactAPI = {\r\n  getAll: async () => ({ contacts: [] }),\r\n  getById: async (id) => ({}),\r\n  updateStatus: async (id, status) => ({ success: true }),\r\n  delete: async (id) => ({ success: true })\r\n};\r\n\r\nexport const uploadAPI = {\r\n  uploadImage: async (file) => ({\r\n    url: `https://picsum.photos/800/600?random=${Date.now()}`,\r\n    message: 'Mock upload successful'\r\n  })\r\n};\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}