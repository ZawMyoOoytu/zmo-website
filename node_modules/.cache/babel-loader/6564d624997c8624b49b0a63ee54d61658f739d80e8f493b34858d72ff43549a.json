{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\heart\\\\zmowebsite\\\\admin-panel\\\\src\\\\components\\\\dashboard\\\\BlogsManager.js\",\n  _s = $RefreshSig$();\n// admin-panel/src/components/dashboard/BlogManager.js\nimport React, { useState, useEffect } from 'react';\nimport BlogForm from '../forms/BlogForm';\nimport { blogAPI } from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BlogManager = () => {\n  _s();\n  const [blogs, setBlogs] = useState([]);\n  const [showForm, setShowForm] = useState(false);\n  const [editingBlog, setEditingBlog] = useState(null);\n\n  // Fetch blogs from API\n  const fetchBlogs = async () => {\n    try {\n      const data = await blogAPI.getAll();\n      setBlogs(data.blogs || data); // depending on API response\n    } catch (error) {\n      console.error('Error fetching blogs:', error);\n    }\n  };\n  useEffect(() => {\n    fetchBlogs();\n  }, []);\n\n  // Open form to create new blog\n  const handleAddNew = () => {\n    setEditingBlog(null);\n    setShowForm(true);\n  };\n\n  // Open form to edit existing blog\n  const handleEdit = blog => {\n    setEditingBlog(blog);\n    setShowForm(true);\n  };\n\n  // Delete blog\n  const handleDelete = async id => {\n    if (!window.confirm('Are you sure you want to delete this blog?')) return;\n    try {\n      await blogAPI.delete(id);\n      setBlogs(blogs.filter(b => b._id !== id));\n    } catch (error) {\n      console.error('Error deleting blog:', error);\n    }\n  };\n\n  // After form submission (create or edit)\n  const handleFormSubmit = async blogData => {\n    try {\n      if (editingBlog) {\n        // Update\n        const updated = await blogAPI.update(editingBlog._id, blogData);\n        setBlogs(blogs.map(b => b._id === updated._id ? updated : b));\n      } else {\n        // Create\n        const newBlog = await blogAPI.create(blogData);\n        setBlogs([newBlog, ...blogs]);\n      }\n      setShowForm(false);\n      setEditingBlog(null);\n    } catch (error) {\n      console.error('Error submitting blog:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Blog Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAddNew,\n      children: \"Add New Blog\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), showForm && /*#__PURE__*/_jsxDEV(BlogForm, {\n      blog: editingBlog,\n      onCancel: () => setShowForm(false),\n      onSubmit: handleFormSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: blogs.map(blog => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: blog.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleEdit(blog),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDelete(blog._id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, blog._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(BlogManager, \"vuTjCBuNH8FxiN+2Uxsxve2jmBY=\");\n_c = BlogManager;\nexport default BlogManager;\nvar _c;\n$RefreshReg$(_c, \"BlogManager\");","map":{"version":3,"names":["React","useState","useEffect","BlogForm","blogAPI","jsxDEV","_jsxDEV","BlogManager","_s","blogs","setBlogs","showForm","setShowForm","editingBlog","setEditingBlog","fetchBlogs","data","getAll","error","console","handleAddNew","handleEdit","blog","handleDelete","id","window","confirm","delete","filter","b","_id","handleFormSubmit","blogData","updated","update","map","newBlog","create","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onCancel","onSubmit","title","_c","$RefreshReg$"],"sources":["C:/Users/heart/zmowebsite/admin-panel/src/components/dashboard/BlogsManager.js"],"sourcesContent":["// admin-panel/src/components/dashboard/BlogManager.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport BlogForm from '../forms/BlogForm';\r\nimport { blogAPI } from '../../services/api';\r\n\r\nconst BlogManager = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingBlog, setEditingBlog] = useState(null);\r\n\r\n  // Fetch blogs from API\r\n  const fetchBlogs = async () => {\r\n    try {\r\n      const data = await blogAPI.getAll();\r\n      setBlogs(data.blogs || data); // depending on API response\r\n    } catch (error) {\r\n      console.error('Error fetching blogs:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchBlogs();\r\n  }, []);\r\n\r\n  // Open form to create new blog\r\n  const handleAddNew = () => {\r\n    setEditingBlog(null);\r\n    setShowForm(true);\r\n  };\r\n\r\n  // Open form to edit existing blog\r\n  const handleEdit = (blog) => {\r\n    setEditingBlog(blog);\r\n    setShowForm(true);\r\n  };\r\n\r\n  // Delete blog\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm('Are you sure you want to delete this blog?')) return;\r\n    try {\r\n      await blogAPI.delete(id);\r\n      setBlogs(blogs.filter((b) => b._id !== id));\r\n    } catch (error) {\r\n      console.error('Error deleting blog:', error);\r\n    }\r\n  };\r\n\r\n  // After form submission (create or edit)\r\n  const handleFormSubmit = async (blogData) => {\r\n    try {\r\n      if (editingBlog) {\r\n        // Update\r\n        const updated = await blogAPI.update(editingBlog._id, blogData);\r\n        setBlogs(blogs.map((b) => (b._id === updated._id ? updated : b)));\r\n      } else {\r\n        // Create\r\n        const newBlog = await blogAPI.create(blogData);\r\n        setBlogs([newBlog, ...blogs]);\r\n      }\r\n      setShowForm(false);\r\n      setEditingBlog(null);\r\n    } catch (error) {\r\n      console.error('Error submitting blog:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Blog Management</h2>\r\n      <button onClick={handleAddNew}>Add New Blog</button>\r\n\r\n      {showForm && (\r\n        <BlogForm\r\n          blog={editingBlog}\r\n          onCancel={() => setShowForm(false)}\r\n          onSubmit={handleFormSubmit}\r\n        />\r\n      )}\r\n\r\n      <ul>\r\n        {blogs.map((blog) => (\r\n          <li key={blog._id}>\r\n            <strong>{blog.title}</strong>\r\n            <button onClick={() => handleEdit(blog)}>Edit</button>\r\n            <button onClick={() => handleDelete(blog._id)}>Delete</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogManager;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}