{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\heart\\\\zmowebsite\\\\admin-panel\\\\src\\\\components\\\\dashboard\\\\BlogsManager.js\",\n  _s = $RefreshSig$();\n// src/components/dashboard/BlogsManager.js\nimport React, { useState, useEffect } from 'react';\nimport BlogForm from '../forms/BlogForm';\nimport { blogAPI } from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BlogsManager = () => {\n  _s();\n  const [blogs, setBlogs] = useState([]);\n  const [showForm, setShowForm] = useState(false);\n  const [editingBlog, setEditingBlog] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchBlogs = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      console.log('Fetching blogs...');\n      const data = await blogAPI.getAll();\n      console.log('API Response:', data);\n\n      // Ensure data is an array\n      if (Array.isArray(data)) {\n        setBlogs(data);\n      } else {\n        console.error('Expected array but got:', typeof data, data);\n        setBlogs([]); // Set empty array as fallback\n        setError('Invalid data format received from server');\n      }\n    } catch (err) {\n      console.error('Error fetching blogs:', err);\n      setError('Failed to load blogs');\n      setBlogs([]); // Set empty array on error\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchBlogs();\n  }, []);\n  const handleAdd = () => {\n    setEditingBlog(null);\n    setShowForm(true);\n  };\n  const handleEdit = blog => {\n    setEditingBlog(blog);\n    setShowForm(true);\n  };\n  const handleDelete = async id => {\n    if (window.confirm('Are you sure?')) {\n      try {\n        await blogAPI.delete(id);\n        setBlogs(blogs.filter(b => b._id !== id));\n      } catch (err) {\n        console.error('Error deleting blog:', err);\n        setError('Failed to delete blog');\n      }\n    }\n  };\n  const handleFormSubmit = async data => {\n    try {\n      if (editingBlog) {\n        await blogAPI.update(editingBlog._id, data);\n      } else {\n        await blogAPI.create(data);\n      }\n      setShowForm(false);\n      fetchBlogs();\n    } catch (err) {\n      console.error('Error saving blog:', err);\n      setError('Failed to save blog');\n    }\n  };\n  const handleCancel = () => setShowForm(false);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading blogs...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Blog Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        marginBottom: '1rem'\n      },\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAdd,\n      children: \"Add New Blog\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), showForm && /*#__PURE__*/_jsxDEV(BlogForm, {\n      blog: editingBlog,\n      onSubmit: handleFormSubmit,\n      onCancel: handleCancel\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Blog Posts (\", blogs.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), blogs.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No blog posts found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: blogs.map(blog => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: blog.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: blog.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleEdit(blog),\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(blog._id || blog.id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }, this)]\n        }, blog._id || blog.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n_s(BlogsManager, \"XOHgt0I/PbmfIf6t0/tuPd6kK2k=\");\n_c = BlogsManager;\nexport default BlogsManager;\nvar _c;\n$RefreshReg$(_c, \"BlogsManager\");","map":{"version":3,"names":["React","useState","useEffect","BlogForm","blogAPI","jsxDEV","_jsxDEV","BlogsManager","_s","blogs","setBlogs","showForm","setShowForm","editingBlog","setEditingBlog","loading","setLoading","error","setError","fetchBlogs","console","log","data","getAll","Array","isArray","err","handleAdd","handleEdit","blog","handleDelete","id","window","confirm","delete","filter","b","_id","handleFormSubmit","update","create","handleCancel","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","marginBottom","onClick","onSubmit","onCancel","length","map","title","content","_c","$RefreshReg$"],"sources":["C:/Users/heart/zmowebsite/admin-panel/src/components/dashboard/BlogsManager.js"],"sourcesContent":["// src/components/dashboard/BlogsManager.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport BlogForm from '../forms/BlogForm';\r\nimport { blogAPI } from '../../services/api';\r\n\r\nconst BlogsManager = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingBlog, setEditingBlog] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const fetchBlogs = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      console.log('Fetching blogs...');\r\n      const data = await blogAPI.getAll();\r\n      console.log('API Response:', data);\r\n      \r\n      // Ensure data is an array\r\n      if (Array.isArray(data)) {\r\n        setBlogs(data);\r\n      } else {\r\n        console.error('Expected array but got:', typeof data, data);\r\n        setBlogs([]); // Set empty array as fallback\r\n        setError('Invalid data format received from server');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching blogs:', err);\r\n      setError('Failed to load blogs');\r\n      setBlogs([]); // Set empty array on error\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchBlogs();\r\n  }, []);\r\n\r\n  const handleAdd = () => {\r\n    setEditingBlog(null);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleEdit = (blog) => {\r\n    setEditingBlog(blog);\r\n    setShowForm(true);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('Are you sure?')) {\r\n      try {\r\n        await blogAPI.delete(id);\r\n        setBlogs(blogs.filter(b => b._id !== id));\r\n      } catch (err) {\r\n        console.error('Error deleting blog:', err);\r\n        setError('Failed to delete blog');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleFormSubmit = async (data) => {\r\n    try {\r\n      if (editingBlog) {\r\n        await blogAPI.update(editingBlog._id, data);\r\n      } else {\r\n        await blogAPI.create(data);\r\n      }\r\n      setShowForm(false);\r\n      fetchBlogs();\r\n    } catch (err) {\r\n      console.error('Error saving blog:', err);\r\n      setError('Failed to save blog');\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => setShowForm(false);\r\n\r\n  if (loading) {\r\n    return <div>Loading blogs...</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Blog Management</h2>\r\n      \r\n      {error && (\r\n        <div style={{ color: 'red', marginBottom: '1rem' }}>\r\n          Error: {error}\r\n        </div>\r\n      )}\r\n      \r\n      <button onClick={handleAdd}>Add New Blog</button>\r\n\r\n      {showForm && (\r\n        <BlogForm\r\n          blog={editingBlog}\r\n          onSubmit={handleFormSubmit}\r\n          onCancel={handleCancel}\r\n        />\r\n      )}\r\n\r\n      <div>\r\n        <h3>Blog Posts ({blogs.length})</h3>\r\n        {blogs.length === 0 ? (\r\n          <p>No blog posts found.</p>\r\n        ) : (\r\n          <ul>\r\n            {blogs.map(blog => (\r\n              <li key={blog._id || blog.id}>\r\n                <h4>{blog.title}</h4>\r\n                <p>{blog.content}</p>\r\n                <button onClick={() => handleEdit(blog)}>Edit</button>\r\n                <button onClick={() => handleDelete(blog._id || blog.id)}>Delete</button>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlogsManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}